namespace test;

with core;

foreign func malloc(size #u64) #void*;
foreign func printf(text #u8*, ...) #i32;

func main() #i32 {
    local thread #Thread = #Thread.init(func(arg #void*) #void* {
        printf("Hello threaded world!");
        return null;
    }, null);
    thread.Start();
    thread.Join();

    // Exit();

    while true {

    }

    return 0;
}
