namespace test;

with core;

foreign func malloc(size #u64) #void*;
foreign func printf(text #char*, ...) #i32;

func main() #i32 {
    local v #i8 = 5 + 2;
    local v2 #i32 = v;
    local v3 #i32& = thing();
    return v2 + v3;
}

func thing() #i32& {
    local v #i32 = 1;
    return &v;
}

struct Test {
    public func op{*}(right #i32) #i32 {
        return 0;
    }
}